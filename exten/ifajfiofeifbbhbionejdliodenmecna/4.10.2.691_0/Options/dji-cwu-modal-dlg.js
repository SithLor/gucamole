window.dji=window.dji||{};window.dji.ui=window.dji.ui||{};
(function(e){function f(){c.removeClass("dji-cwu-visible").empty();$(document).off("keydown",g)}function g(a){switch(a.keyCode){case 13:$(".dji-cwu-dlg-button[dji-cwu-done]").click();break;case 27:$(".dji-cwu-dlg-button[dji-cwu-cancel]").click()}}let c=null;e.init=function(a){c=a;c.on("click","[dji-cwu-cancel]",f)};e.showModalDlg=function(a,b){if(c){var d=dji.templates.clone(a);if(null!==d){if(b&&b.hasOwnProperty("doneCallback"))$(d).find("[dji-cwu-done]").on("click",function(){b.doneCallback(function(h){h&&
f()})});else $(d).find("[dji-cwu-done]").on("click",function(){f()});c.append(d).addClass("dji-cwu-visible");$(document).on("keydown",g);setTimeout(function(){$(d).find("input:first").focus()})}}};e.showMessageDlg=function(a,b){c&&(a=dji.templates.clone(a),null!==a&&(b=b||{},b.hasOwnProperty("title")&&$(a).append(jQuery("<div/>",{class:"dji-cwu-dlg-title",text:b.title})),b.hasOwnProperty("message")&&$(a).append(jQuery("<div/>",{class:"dji-cwu-dlg-message",text:b.message})),b.hasOwnProperty("html")&&
$(a).append(jQuery("<div/>",{class:"dji-cwu-dlg-message",html:b.html})),b.hasOwnProperty("width")&&$(a).css({width:b.width}),c.append(a).addClass("dji-cwu-visible")))};e.hideDlg=function(){f()}})(window.dji.ui.modalDlg=window.dji.ui.modalDlg||{});
