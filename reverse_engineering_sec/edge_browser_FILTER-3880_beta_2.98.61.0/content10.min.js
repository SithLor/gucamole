var port=chrome.runtime.connect({name:"proxyDetection"});let triggeredIdentification=!1;async function onWindowLoad(){port.postMessage({action:"identifyProxy"})}function IdentifyProxy(t){if(!t.featureFlag)return;let n=0,e=void 0;const o=setInterval(()=>{document.location.origin.includes("securly.com")?clearInterval(o):(e&&(clearInterval(o),chrome.runtime.sendMessage({type:"proxyIdentified",proxyUrl:document.location.origin,...e},function(t){})),n>=7?clearInterval(o):(n++,e=findProxy(document,t)))},2e3)}function findProxy(t,n){const e=n.proxyData;for(const n of e){let e=!0;for(const o of n.targetElements){const n=t.querySelector(o.target);let i;if(!n){e=!1;break}if(!(i=o.content?o&&o.substringMatch?n.textContent&&n.textContent.includes(o.content):n.textContent===o.content:!!n)){e=!1;break}}if(e)return n}}port.onMessage.addListener(function(t){triggeredIdentification||(triggeredIdentification=!0,IdentifyProxy(t.proxyConfig))}),window.addEventListener?window.addEventListener("load",onWindowLoad,!1):window.attachEvent&&window.attachEvent("onload",onWindowLoad);